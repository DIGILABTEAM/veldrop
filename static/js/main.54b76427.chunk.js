(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(28)},21:function(e,t,n){},22:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(6),c=n.n(i),o=(n(21),n(22),n(5),n(1)),s=n(3),u="INIT_GAME",l="SHUFFLE_TILES",m="REVERSE_TILES",h="SELECT_TILE",d="HIGHSCORE_LIST_LOADED",g="NAME_CHANGED",f="HIGHSCORE_LIST_SAVED";function p(e,t){return{type:u,gameId:e,imageNumber:t}}function b(){return{type:l}}var E=n(2),v=n.n(E),N=n(4);function S(e,t){return I.apply(this,arguments)}function I(){return(I=Object(N.a)(v.a.mark(function e(t,n){var r,a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=="".length){e.next=2;break}return e.abrupt("return");case 2:return r="".concat("","/highscore-lists/").concat(n().highScoreListId),e.prev=3,e.next=6,C(r);case 6:a=e.sent,t({type:d,highScoreList:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("Network request failed");case 13:case"end":return e.stop()}},e,null,[[3,10]])}))).apply(this,arguments)}function k(e,t){return L.apply(this,arguments)}function L(){return(L=Object(N.a)(v.a.mark(function e(t,n){var r,a,i,c,o;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=="".length){e.next=2;break}return e.abrupt("return");case 2:if(r="".concat("","/highscore-lists/").concat(n().highScoreListId,"/game-results"),(a=n()).userName&&0!==a.userName.length){e.next=6;break}return e.abrupt("return");case 6:return i={userName:a.userName,score:a.turnNo-1,id:a.userId},e.prev=7,e.next=10,x(r,i);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(7),console.error("Network request failed3"),e.abrupt("return");case 16:return c="".concat("","/highscore-lists/").concat(n().highScoreListId),e.next=19,C(c);case 19:o=e.sent,t({type:f,highScoreList:o});case 21:case"end":return e.stop()}},e,null,[[7,12]])}))).apply(this,arguments)}function C(e){return O.apply(this,arguments)}function O(){return(O=Object(N.a)(v.a.mark(function e(t){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{headers:{ApiKey:"".concat("")}});case 3:if((n=e.sent).ok){e.next=6;break}throw Error("Network request failed");case 6:return e.next=8,n.json();case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(0),Error("Network request failed");case 14:case"end":return e.stop()}},e,null,[[0,11]])}))).apply(this,arguments)}function x(e,t){return w.apply(this,arguments)}function w(){return(w=Object(N.a)(v.a.mark(function e(t,n){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"POST",headers:{"Content-Type":"application/json",ApiKey:"".concat("")},body:JSON.stringify(n)});case 3:if(e.sent.ok){e.next=6;break}throw Error("Network request failed");case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),Error("Network request failed");case 11:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}var T=Object(o.b)(function(e){return{highScorePosition:e.highScorePosition,highScoreList:e.highScoreList}},function(e){return{onSubmitNameToHighScore:function(){e(k)},onNameChanged:function(t){e(function(e){return{type:g,name:e}}(t))}}})(function(e){var t=Object(r.useState)(""),n=Object(s.a)(t,2),i=n[0],c=n[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,"YOU MADE IT TO #",e.highScorePosition," on the leaderboard!"),"Enter your name:",a.a.createElement("input",{type:"text",minLength:"3",maxLength:"25",required:!0,onChange:function(t){c(t.target.value),e.onNameChanged(t.target.value)}}),a.a.createElement("div",null,i.length>=3&&i.length<=25&&a.a.createElement("button",{className:"game-button",onClick:function(){return e.onSubmitNameToHighScore(i)}},"Submit")))}),j=function(e){if(!e.highScoreList)return a.a.createElement(a.a.Fragment,null);var t=e.highScoreList.results.map(function(t,n){var r="";return e.userId&&t.id===e.userId&&(r="user-row-in-highscore"),a.a.createElement("tr",{className:r,key:n+1},a.a.createElement("td",null,"#",n+1),a.a.createElement("td",null,t.userName),a.a.createElement("td",{className:"date-column"},new Date(t.utcDateTime).toLocaleDateString()),a.a.createElement("td",null,t.score))});return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement("h3",null,e.highScoreList.name),a.a.createElement("table",{className:"highscoretable"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Position"),a.a.createElement("th",null,"Name"),a.a.createElement("th",{className:"date-column"},"Date"),a.a.createElement("th",null,e.highScoreList.unit))),a.a.createElement("tbody",null,t))))},y=Object(o.b)(function(e){return{gameComplete:e.gameComplete,turnNo:e.turnNo,numClicksWithinTurn:e.numClicksWithinTurn,highScoreList:e.highScoreList,highScorePosition:e.highScorePosition,highScoreListSaved:e.highScoreListSaved,userId:e.userId}})(function(e){return e.gameComplete?a.a.createElement("div",{className:"game-status"},a.a.createElement("div",null,"GAME COMPLETE!"),a.a.createElement("div",null,"You used ",e.turnNo-1," turns"),e.highScorePosition>0&&!e.highScoreListSaved&&a.a.createElement(T,null),e.highScorePosition>0&&e.highScoreListSaved&&a.a.createElement(j,{highScoreList:e.highScoreList,userId:e.userId})):a.a.createElement("div",{className:"game-status"},"Turn: ",a.a.createElement("b",null,e.turnNo),a.a.createElement("div",{className:"game-instructions"},0===e.numClicksWithinTurn&&a.a.createElement("div",null,"Click on the tile that should be moved"),1===e.numClicksWithinTurn&&a.a.createElement("div",null,"Click on the tile that should be swapped with the first selected tile")))}),z=n(15);var P=function(e){var t=e.id,n=-Math.floor(t/e.size)*e.tileWidth,r=t<e.size?-t*e.tileWidth:-t%e.size*e.tileWidth,i="".concat(window.location.href,"/images/img").concat(e.imageNumber,".jpg"),c={backgroundPosition:"left ".concat(r,"px top ").concat(n,"px"),backgroundImage:"url('".concat(i,"')"),backgroundSize:"".concat(e.width,"px")};e.correctPos&&(c=Object(z.a)({},c,{outline:"1px solid white",outlineOffset:"-10px"}));var o=e.selected?"tile selected":"tile";return a.a.createElement("div",{className:o,style:c,onClick:function(){return e.onClick(e.id)}})},D=n(14),_=Object(o.b)(function(e){return{size:e.size,tiles:e.tiles,imageNumber:e.imageNumber,selectedId:e.selectedId}},function(e){return{onTileClicked:function(t){e(function(e){return{type:h,id:e}}(t))}}})(function(e){var t=Object(D.a)(),n=Object(s.a)(t,2),r=n[0],i=n[1],c=Math.max(Math.min(r,i-258),200),o=c/e.size,u={width:"".concat(e.size*o,"px")},l={gridTemplateColumns:"repeat(".concat(e.size,",").concat(o,"px)")};return a.a.createElement("div",null,a.a.createElement("div",{className:"tile-wrapper",style:u},a.a.createElement("div",{className:"tile-container",style:l},e.tiles.map(function(t,n){return a.a.createElement(P,{key:n,id:t.id,correctPos:t.id===n,imageNumber:e.imageNumber,onClick:e.onTileClicked,tileWidth:o,size:e.size,selected:e.selectedId===t.id,width:c})}))))}),M=Object(o.b)(null,function(e){return{onInitGame:function(t){e(p(t,Math.floor(18*Math.random())+1)),e(b()),e(S)}}})(function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{className:"game-button",onClick:function(){return e.onInitGame(0)}},"Restart 4x4"),a.a.createElement("button",{className:"game-button",onClick:function(){return e.onInitGame(1)}},"Restart 5x5"),a.a.createElement("button",{className:"game-button",onClick:function(){return e.onInitGame(2)}},"Restart 6x6"),a.a.createElement("button",{className:"game-button",onClick:function(){return e.onInitGame(3)}},"Restart 7x7"))}),W=function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement("header",{className:"game-header"},a.a.createElement("div",{className:"game-title"}," CETANIL-TM")),a.a.createElement("div",null,a.a.createElement("h2",null,e.gameName)))},A=Object(o.b)(function(e){return{gameName:e.gameName,highScoreList:e.highScoreList}})(function(e){return a.a.createElement("div",{className:"game"},a.a.createElement(W,{gameName:e.gameName}),a.a.createElement(y,null),a.a.createElement(_,null),a.a.createElement(M,null),a.a.createElement(j,{highScoreList:e.highScoreList}))});var F=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(A,null))},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,32)).then(function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)})},R=[{name:"4x4 Puzzle",size:4,highscorelistid:"60f69e658210a26979caf438"},{name:"5x5 Puzzle",size:5,highscorelistid:"60f69e808210a26979caf439"},{name:"6x6 Puzzle",size:6,highscorelistid:"60f69eb58210a26979caf43b"},{name:"7x7 Puzzle",size:7,highscorelistid:"60f69ec88210a26979caf43c"}],H=n(7),q=n(12),J=n.n(q);function U(e){for(var t=[],n=0;n<e*e;n++){var r={id:n,top:100*-Math.floor(n/e),left:n<e?100*-n:-n%e*100};t.push(r)}return t}var V=n(31),B={turnNo:1,numClicksWithinTurn:0,selectedId:void 0,gameComplete:!1,imageNumber:1,tiles:[],size:void 0,gameId:void 0,gameName:void 0,highScoreList:void 0,highScorePosition:-1,userName:void 0,userId:void 0,highScoreListSaved:!1};var K=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case u:var r=R[n.gameId].size;return Object.assign({},B,{gameId:n.gameId,size:r,gameName:R[n.gameId].name,imageNumber:n.imageNumber,tiles:U(r),highScoreListId:R[n.gameId].highscorelistid});case h:if(t.gameComplete)return t;if(n.id<0||n.id>t.size*t.size-1)return t;var a=t.numClicksWithinTurn+1;if(1===a){var i=t.tiles.map(function(e){return e});return Object.assign({},t,{selectedId:n.id,numClicksWithinTurn:a,gameComplete:!1,tiles:i})}var c=t.tiles.map(function(e){return e});if(n.id===t.selectedId)return Object.assign({},t,{selectedId:void 0,numClicksWithinTurn:0,tiles:c});var o=function(e,t,n){var r=Object(H.a)(e),a=r.findIndex(function(e){return e.id===t}),i=r[a],c=r.findIndex(function(e){return e.id===n}),o=Object.assign({},r[c]);return r[c]=i,r[a]=o,r}(c,t.selectedId,n.id),s=function(e){for(var t=0;t<e.length;t++)if(e[t].id!==t)return!1;return!0}(o);if(s&&t.highScoreList){var p=Object(V.a)(),b=function(e,t,n,r){var a=r.results.map(function(e){return{id:e.id,score:e.score,time:isNaN(Date.parse(e.utcDateTime))?0:Date.parse(e.utcDateTime)}});a.push({id:e,score:n,time:t}),a.sort(function(e,t){return e.score-t.score||t.time-e.time});var i=a.findIndex(function(t){return t.id===e});return i>-1&&i+1<=r.maxSize?i:-1}(p,Date.now(),t.turnNo+1,t.highScoreList);return b>-1?Object.assign({},t,{selectedId:void 0,numClicksWithinTurn:0,gameComplete:s,turnNo:t.turnNo+1,tiles:o,highScorePosition:b+1,userId:p}):Object.assign({},t,{selectedId:void 0,numClicksWithinTurn:0,gameComplete:s,turnNo:t.turnNo+1,tiles:o,highScorePosition:b+1})}return Object.assign({},t,{selectedId:void 0,numClicksWithinTurn:0,gameComplete:s,turnNo:t.turnNo+1,tiles:o});case l:var E=(e=t.tiles,J()(Object(H.a)(e)));return Object.assign({},t,{tiles:E});case m:var v=function(e){return Object(H.a)(e).reverse()}(t.tiles);return Object.assign({},t,{tiles:v});case d:return Object.assign({},t,{highScoreList:n.highScoreList});case g:return Object.assign({},t,{userName:n.name});case f:return Object.assign({},t,{highScoreListSaved:!0,highScoreList:n.highScoreList});default:return t}},X=n(8),Y=n(13),Q=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||X.b,Z=Object(X.c)(K,Q(Object(X.a)(Y.a)));Z.dispatch(p(0,Math.floor(18*Math.random())+1)),Z.dispatch(b()),Z.dispatch(S),c.a.render(a.a.createElement(o.a,{store:Z},a.a.createElement(F,null)),document.getElementById("root")),G()},5:function(e,t,n){}},[[16,1,2]]]);
//# sourceMappingURL=main.54b76427.chunk.js.map